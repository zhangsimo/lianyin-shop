webpackJsonp([22],{"8xDp":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("Xxa5"),e=a.n(i),n=a("exGp"),o=a.n(n),r=a("mvHQ"),l=a.n(r),c={data:function(){return{list:[],page:0}},methods:{loadMore1:function(){var t=this;this.list.length%10==0&&(this.loading=!0,setTimeout(function(){t.page++,t.$axios.post("/myapi/order_list",{status:1,page:t.page}).then(function(s){t.list=t.list.concat(JSON.parse(l()(s.data.date.orderList))),s.data.date.orderList.length<10&&(t.$refs.ul.style.overflowY="auto")}),t.loading=!1},0))},buy:function(t){this.$store.commit("addOneList",t),this.$router.push({path:"/submit"})},cancel:function(t){var s=this;return o()(e.a.mark(function a(){return e.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.$axios.post("/myapi/cancel_order",{orderNumber:t.goods.order_number});case 2:0===a.sent.data.code&&s.loadMore();case 4:case"end":return a.stop()}},a,s)}))()},use:function(){this.$router.push("/erweima")},doneagain:function(t){this.$router.push({path:"/merchant",query:{id:t.shop.id}})}}},u={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"allOrder"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore1,expression:"loadMore1"}],ref:"ul",staticClass:"listUl",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"0"}},t._l(t.list,function(s,i){return a("li",{key:i,staticClass:"allli"},[a("div",{staticClass:"title"},[a("span",{staticClass:"titleLeft"},[t._v(t._s(s.goods.goods_name))]),t._v(" "),0===s.shop.status?a("span",{staticClass:"titleright"},[t._v("待付款")]):1===s.shop.status?a("span",{staticClass:"titleright"},[t._v("待使用")]):2===s.shop.status?a("span",{staticClass:"titleright"},[t._v("已使用")]):t._e()]),t._v(" "),a("div",{staticClass:"discounts"},[a("div",[t._m(0,!0),t._v(" "),a("div",{staticClass:"right"},[a("h5",{staticClass:"top"},[t._v(t._s(s.shop.profile))]),t._v(" "),a("h5",{staticClass:"bottom"},[a("div",{staticClass:"discourt"},[a("span",[t._v("￥"+t._s(s.shop.money))])]),t._v(" "),a("div",{staticClass:"sales"},[a("span",[a("i",[t._v("X"+t._s(s.goods.goods_number))])])])])])]),t._v(" "),1===s.shop.status?a("div",[a("div",{staticClass:"buybBtn",on:{click:function(a){return t.buy(s)}}},[t._v("立即支付")]),t._v(" "),a("div",{staticClass:"canelBtn",on:{click:function(a){return t.cancel(s)}}},[t._v("取消")])]):0===s.shop.status?a("div",[a("div",{staticClass:"buybBtn",on:{click:function(a){return t.use(s)}}},[t._v("使用")])]):2===s.shop.status?a("div",[a("div",{staticClass:"buybBtn",on:{click:function(a){return t.doneagain(s)}}},[t._v("再来一单")])]):t._e()])])}),0)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"left"},[s("img",{attrs:{src:a("Ij4O"),alt:""}})])}]};var d=a("VU/8")(c,u,!1,function(t){a("a3Oa")},"data-v-38c8f7fa",null);s.default=d.exports},a3Oa:function(t,s){}});
//# sourceMappingURL=22.e1445a33d57e72e86332.js.map