webpackJsonp([20],{"6Cm/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Xxa5"),n=r.n(i),o=r("exGp"),a=r.n(o),s={data:function(){return{verify:"",mobile:""}},methods:{cerifyMobile:function(){var e=this;if(""!==this.mobile.trim())if(/^1(3|4|5|7|8|2)\d{9}$/.test(this.mobile)){this.$refs.down.disabled=!0,this.$refs.down.style.color="#ccc";var t=10,r=setInterval(function(){e.$refs.down.innerText=t+"秒后再次发送",-1==--t&&(clearTimeout(r),e.$refs.down.disabled=!1,e.$refs.down.innerText="获取验证码",e.$refs.down.style.color="#037fff")},1e3);this.$axios.post("/myapi/get_mobile_code",{mobile:this.mobile})}else this.$messagebox.alert("请输入正确的手机号码");else this.$messagebox.alert("请输入手机号码")},register:function(){var e=this;return a()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.mobile.trim()){t.next=3;break}return e.$messagebox.alert("请输入手机号码"),t.abrupt("return");case 3:if(/^1(3|4|5|7|8|2)\d{9}$/.test(e.mobile)){t.next=6;break}return e.$messagebox.alert("请输入正确的手机号码"),t.abrupt("return");case 6:if(""!==e.verify.trim()){t.next=8;break}return t.abrupt("return",e.$messagebox.alert("请输入验证码"));case 8:return t.next=10,e.$axios.post("/myapi/login_by_code",{mobile:e.mobile,code:e.verify});case 10:"0"===(r=t.sent).data.code&&(sessionStorage.setItem("lianyin_token",r.data.data.token),e.$router.push("/home")),"-1"===r.data.code&&e.$messagebox.alert(r.data.msg);case 13:case"end":return t.stop()}},t,e)}))()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"phonelogin"},[r("div",{staticClass:"inputone"},[e._v("\n    手机号\n    "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"inputtwo"},[e._v("\n    验证码\n    "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.verify,expression:"verify"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.verify},on:{input:function(t){t.target.composing||(e.verify=t.target.value)}}}),e._v(" "),r("button",{ref:"down",on:{click:e.cerifyMobile}},[e._v("\n      获取验证码\n    ")])]),e._v(" "),r("p",[e._v("若手机号未注册,登录将自动创建账号。")]),e._v(" "),r("div",{staticClass:"loginBtn",on:{click:e.register}},[e._v("登录")])])},staticRenderFns:[]};var c=r("VU/8")(s,l,!1,function(e){r("wG4J")},"data-v-03efc778",null);t.default=c.exports},wG4J:function(e,t){}});
//# sourceMappingURL=20.f87d34ee7f63e00a0b33.js.map